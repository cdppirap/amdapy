
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to amdapy’s documentation! &#8212; amdapy 1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="amdapy" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="amdapy"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">amdapy 1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-amdapy-s-documentation">
<h1>Welcome to amdapy’s documentation!<a class="headerlink" href="#welcome-to-amdapy-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>This package aims to offer streamlined access to heliophysics dataset provided by AMDA (and other
providers).</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">amdapy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="amdapy.html">amdapy package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.ddtime">amdapy.ddtime module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.editor">amdapy.editor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.http_index">amdapy.http_index module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.pds">amdapy.pds module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.pdsdump">amdapy.pdsdump module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.spase">amdapy.spase module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.str_utils">amdapy.str_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.viview">amdapy.viview module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.core.dataset">amdapy.core.dataset module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.core.variable">amdapy.core.variable module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.amdaWSClient.client">amdapy.amdaWSClient.client module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.amdaWSClient.obstree">mdapy.amdaWSClient.obstree module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.amda">amdapy.amda module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="amda">
<h1>AMDA<a class="headerlink" href="#amda" title="Permalink to this headline">¶</a></h1>
<p>This package aims to provide streamlined access to dataset available on <strong class="program">AMDA</strong> (as well as some other
data providers). <strong class="program">AMDA</strong> provides a collection of visualization and analysis tools for heliophical data
and this python package aims to provide an interface for retrieving datasets without accessing the
online plateform as well as a collection of tools for analysing the data.</p>
<p>Interacting with AMDA is done through the <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA" title="amdapy.amda.AMDA"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.amda.AMDA</span></code></a> class which implements methods
for navigating and querying the AMDA dataset catalogue. The connector object is initialized simply</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">amda</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">amda</span><span class="o">.</span><span class="n">AMDA</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="missions-and-instruments">
<h2>Missions and instruments<a class="headerlink" href="#missions-and-instruments" title="Permalink to this headline">¶</a></h2>
<p>In AMDA datasets are associated with a pair (Mission, Instrument). Retrieving a list of missions is
done like this :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">amda</span><span class="o">.</span><span class="n">mission</span><span class="p">()]</span>
<span class="go">[&#39;ACE&#39;, &#39;AMPTE&#39;,..., &#39;VEX&#39;, &#39;Voyager&#39;, &#39;Wind&#39;]</span>
</pre></div>
</div>
<p>In a similar fashion we can get a list of instruments associated with a mission, here we fetch
names of all instruments aboard the ACE mission.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">amda</span><span class="o">.</span><span class="n">instruments</span><span class="p">(</span><span class="s2">&quot;ACE&quot;</span><span class="p">)]</span>
<span class="go">[&#39;MFI&#39;, &#39;SWEPAM&#39;, &#39;Ephemeris&#39;]</span>
</pre></div>
</div>
<p>List all datasets associated with mission ACE and instrument MFI</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">amda</span><span class="o">.</span><span class="n">iter_dataset</span><span class="p">(</span><span class="n">mission</span><span class="o">=</span><span class="s2">&quot;ACE&quot;</span><span class="p">,</span> <span class="n">instrument</span><span class="o">=</span><span class="s2">&quot;MFI&quot;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="go">AMDADataset(id:ace-imf-all, start:1997-09-02 00:00:12, stop:2021-02-27 23:59:48, n_param:3)</span>
<span class="go">AMDADataset(id:ace-mag-real, start:2020-11-11 00:00:00, stop:2021-03-10 03:59:59, n_param:3)</span>
</pre></div>
</div>
<p>Iterate over variables belonging to the dataset</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">amda</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s2">&quot;ace-imf-all&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_variable</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">var</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<span class="go">|b| nT</span>
<span class="go">b_gse nT</span>
<span class="go">b_gsm nT</span>
</pre></div>
</div>
</div>
<div class="section" id="dataset-exploration">
<h2>Dataset exploration<a class="headerlink" href="#dataset-exploration" title="Permalink to this headline">¶</a></h2>
<p>Accessing AMDA datasets is done through methods provided by the <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA" title="amdapy.amda.AMDA"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.amda.AMDA</span></code></a> class. Getting datasets from AMDA :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">amda</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">amda</span><span class="o">.</span><span class="n">AMDA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># iterate over datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">amda</span><span class="o">.</span><span class="n">iter_dataset</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Dataset id : {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
<span class="go">AMDADataset(id:ace-imf-all)</span>
<span class="go">AMDADataset(id:ace-mag-real)</span>
<span class="gp">...</span>
<span class="go">AMDADataset(id:wnd-swe-kp)</span>
</pre></div>
</div>
<p>The objects returned by <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA.iter_dataset" title="amdapy.amda.AMDA.iter_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDA.iter_dataset()</span></code></a> are of type <a class="reference internal" href="amdapy.html#amdapy.amda.AMDADataset" title="amdapy.amda.AMDADataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.amda.AMDADataset</span></code></a>. Retrieving the contents of the dataset can be time consumming, thus a call to the
<a class="reference internal" href="amdapy.html#amdapy.amda.AMDADataset.get" title="amdapy.amda.AMDADataset.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDADataset.get()</span></code></a> method is needed before accessing the contents of the dataset.
The available information are the start and stop time of the dataset and the shape of it’s variables.
A specific dataset can be retrieved by its <code class="xref py py-data docutils literal notranslate"><span class="pre">id</span></code> with the <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA.get_dataset" title="amdapy.amda.AMDA.get_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDA.get_dataset()</span></code></a> method.</p>
<p>Once the data has been loaded the user can access the variables of the dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_id</span><span class="o">=</span><span class="s2">&quot;ace-imf-all&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">amda</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">([</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">])</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">([</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">])</span>
<span class="go">[&#39;imf_mag&#39;,&#39;imf&#39;,&#39;imf_gsm&#39;]</span>
</pre></div>
</div>
<p>Variable data is available a <a class="reference internal" href="amdapy.html#amdapy.core.variable.Variable" title="amdapy.core.variable.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.core.variable.Variable</span></code></a> objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;amdapy.core.variable.Variable&#39;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="variables-and-datasets">
<h2>Variables and Datasets<a class="headerlink" href="#variables-and-datasets" title="Permalink to this headline">¶</a></h2>
<p>The variables values are stored as <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> objects, elements can be accessed using
the bracket operator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">var</span><span class="p">[:])</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[:]</span>
<span class="go">                   Time  imf_mag</span>
<span class="go">0   1997-09-02 00:00:28    2.348</span>
<span class="go">1   1997-09-02 00:00:44    2.384</span>
<span class="go">2   1997-09-02 00:01:00    2.302</span>
<span class="go">3   1997-09-02 00:01:16    2.370</span>
<span class="go">4   1997-09-02 00:01:32    2.455</span>
<span class="go">..                  ...      ...</span>
<span class="go">220 1997-09-02 00:59:08    3.679</span>
<span class="go">221 1997-09-02 00:59:24    3.755</span>
<span class="go">222 1997-09-02 00:59:40    3.675</span>
<span class="go">223 1997-09-02 00:59:56    3.619</span>
<span class="go">224 1997-09-02 01:00:12    3.631</span>

<span class="go">[225 rows x 2 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="data-providers">
<h2>Data providers<a class="headerlink" href="#data-providers" title="Permalink to this headline">¶</a></h2>
<p>Datasets are available on a multitude of platforms, the ones <strong class="program">amdapy</strong> provides access to are
AMDA, PDS, CDAWEB. The last two providers offer a public index listing all available datasets. New
providers may be defined by sublcassing the <code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.provider.DataProvider</span></code> class. We can view
the list of providers through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.provider.iter_provider()</span></code>. Providers are identified
by their name, which should be unique. The simplest data providers are built around manipulating their
public index. New providers can easly be defined for any website offering a public index of their data
files.</p>
<p>The <a class="reference internal" href="amdapy.html#amdapy.ddtime.DDTime.from_datetime" title="amdapy.ddtime.DDTime.from_datetime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.ddtime.DDTime.from_datetime()</span></code></a> method.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to amdapy’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#amda">AMDA</a><ul>
<li><a class="reference internal" href="#missions-and-instruments">Missions and instruments</a></li>
<li><a class="reference internal" href="#dataset-exploration">Dataset exploration</a></li>
<li><a class="reference internal" href="#variables-and-datasets">Variables and Datasets</a></li>
<li><a class="reference internal" href="#data-providers">Data providers</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">amdapy</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="amdapy"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">amdapy 1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Alexandre Schulz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>