
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to amdapy’s documentation! &#8212; amdapy 1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="amdapy" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="amdapy"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">amdapy 1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-amdapy-s-documentation">
<h1>Welcome to amdapy’s documentation!<a class="headerlink" href="#welcome-to-amdapy-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>This package aims to offer streamlined access to heliophysics dataset provided by AMDA (and other
providers).</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">amdapy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="amdapy.html">amdapy package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.ddtime">amdapy.ddtime module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.editor">amdapy.editor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.http_index">amdapy.http_index module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.pds">amdapy.pds module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.pdsdump">amdapy.pdsdump module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.spase">amdapy.spase module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.str_utils">amdapy.str_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.viview">amdapy.viview module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.core.dataset">amdapy.core.dataset module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.core.variable">amdapy.core.variable module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy.amda">amdapy.amda module</a></li>
<li class="toctree-l3"><a class="reference internal" href="amdapy.html#module-amdapy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <strong class="program">amdapy</strong> package is an API whose aim is to provide easy access to heliophysics datasets as
well as tools for analysing the data. Datasets are available through a multitude of different providers
and stored using various file formats, whereas the data itself may be similar between two mission they
may be stored under completely different file formats. It is then the researchers job to retrieve the
data and convert it to a usable format. Although this process is not particularly difficult it is
time consumming and the problem is compounded when dealing with multiple datasets. <strong class="program">amdapy</strong>
aims to streamline this process, so retrieving data under a given format is done in a single line.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset1</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;dataset1&quot;</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;PDS&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong class="program">amdapy</strong> offers easy acces to a list of data providers and their datasets. Elements can be
accessed through iterators, the following example illustrates how one would iterate over all datasets
provided by the PDS service :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">provider</span><span class="o">=</span><span class="n">amdapy</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">Provider</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PDS&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">provider</span><span class="o">.</span><span class="n">iter_dataset</span><span class="p">():</span>
  <span class="k">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="variables-and-datasets">
<h2>Variables and Datasets<a class="headerlink" href="#variables-and-datasets" title="Permalink to this headline">¶</a></h2>
<p>Variables and datasets are the basic building blocks of this project. They are purposefully defined
as very generic containers so as to be as versatile as possible. Variable objects allow access to the
data, they are defined as a quadruplet (name, data type, shape, value). The variable’s name should
always be unique within a given context (a dataset cannot contain two variables with the same name).
Data is stored as <code class="xref py py-data docutils literal notranslate"><span class="pre">numpy.array</span></code> objects, as such we use the same conventions for datatypes, shapes
and value storing. Variables can be multidimensional, in which case its values can be accessed using
bracket operators. Variables are instantiated with the <a class="reference internal" href="amdapy.html#amdapy.core.variable.Variable" title="amdapy.core.variable.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.core.variable.Variable</span></code></a> class :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>An array is initialised in a similar manner :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">md_var</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Datasets are simply a named list of variable objects. The <code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.core.dataset.Dataset.iter_variable()</span></code>
method allows to iterate over the variable objects contained. Adding a variable to a datasets that
already contains a variable with the same name will raise an exception.</p>
</div>
<div class="section" id="amda-datasets">
<h2>AMDA datasets<a class="headerlink" href="#amda-datasets" title="Permalink to this headline">¶</a></h2>
<p>Accessing AMDA datasets is done through methods provided by the <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA" title="amdapy.amda.AMDA"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.amda.AMDA</span></code></a> class. Getting datasets from AMDA :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">amda</span> <span class="o">=</span> <span class="n">amdapy</span><span class="o">.</span><span class="n">amda</span><span class="o">.</span><span class="n">AMDA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># iterate over datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">amda</span><span class="o">.</span><span class="n">iter_dataset</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Dataset id : {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
<span class="go">AMDADataset(id:ace-imf-all)</span>
<span class="go">AMDADataset(id:ace-mag-real)</span>
<span class="gp">...</span>
<span class="go">AMDADataset(id:wnd-swe-kp)</span>
</pre></div>
</div>
<p>The objects returned by <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA.iter_dataset" title="amdapy.amda.AMDA.iter_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDA.iter_dataset()</span></code></a> are of type <a class="reference internal" href="amdapy.html#amdapy.amda.AMDADataset" title="amdapy.amda.AMDADataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.amda.AMDADataset</span></code></a>. Retrieving the contents of the dataset can be time consumming, thus a call to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDADataset.load()</span></code> method is needed before accessing the contents of the dataset.
The available information are the start and stop time of the dataset and the shape of it’s variables.
A specific dataset can be retrieved by its <code class="xref py py-data docutils literal notranslate"><span class="pre">id</span></code> with the <a class="reference internal" href="amdapy.html#amdapy.amda.AMDA.get_dataset" title="amdapy.amda.AMDA.get_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.amda.AMDA.get_dataset()</span></code></a> method.</p>
<p>Once the data has been loaded the user can access the variables of the dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset_id</span><span class="o">=</span><span class="s2">&quot;ace-imf-all&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">amda</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">([</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">])</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">([</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">])</span>
<span class="go">[&#39;imf_mag&#39;,&#39;imf&#39;,&#39;imf_gsm&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="data-providers">
<h2>Data providers<a class="headerlink" href="#data-providers" title="Permalink to this headline">¶</a></h2>
<p>Datasets are available on a multitude of platforms, the ones <strong class="program">amdapy</strong> provides access to are
AMDA, PDS, CDAWEB. The last two providers offer a public index listing all available datasets. New
providers may be defined by sublcassing the <code class="xref py py-class docutils literal notranslate"><span class="pre">amdapy.provider.DataProvider</span></code> class. We can view
the list of providers through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.provider.iter_provider()</span></code>. Providers are identified
by their name, which should be unique. The simplest data providers are built around manipulating their
public index. New providers can easly be defined for any website offering a public index of their data
files.</p>
<p>The <a class="reference internal" href="amdapy.html#amdapy.ddtime.DDTime.from_datetime" title="amdapy.ddtime.DDTime.from_datetime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">amdapy.ddtime.DDTime.from_datetime()</span></code></a> method.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to amdapy’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#variables-and-datasets">Variables and Datasets</a></li>
<li><a class="reference internal" href="#amda-datasets">AMDA datasets</a></li>
<li><a class="reference internal" href="#data-providers">Data providers</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">amdapy</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="amdapy"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">amdapy 1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Alexandre Schulz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>